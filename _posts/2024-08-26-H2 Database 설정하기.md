---
categories:
- Book_rating_project(with.elly)
- 2024-08-22 ~ 2024-08-28
  
tags:
- H2 DB
- Elly
---


### â“H2 Database ë€?

---

**H2ëŠ” ìë°”ë¡œ ì‘ì„±ëœ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ ì‹œìŠ¤í…œì´ë‹¤.**

**ì¥ì **

- ë”°ë¡œ ì„¤ì¹˜ê°€ í•„ìš”ì—†ë‹¤
- ìš©ëŸ‰ì´ ë§¤ìš° ê°€ë³ë‹¤
- ì›¹ìš© ì½˜ì†”(ì¿¼ë¦¬íˆ´) ì œê³µí•˜ì—¬ ê°œë°œìš© ë¡œì»¬DBë¡œ ì‚¬ìš© ìš©ì´í•˜ë‹¤

íŠ¹ì§•

- JAVAë¡œ ì‘ì„±ëœ ì˜¤í”ˆì†ŒìŠ¤ RDBMS
- ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ì§€ì›í•˜ëŠ” ì¸ë©”ëª¨ë¦¬ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤
- ì¸ë©”ëª¨ë¦¬ë¡œ ë„ìš°ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¬ê¸°ë™ ë•Œë§ˆë‹¤ ì´ˆê¸°í™”
- ë¡œì»¬ í™˜ê²½, í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ë§ì´ ì“°ì„

### âœ…Â H2 Database ì„¤ì¹˜í•˜ê¸°

---

1. src/main/resources/application.propertiesì— ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì„¤ì • ì¶”ê°€ 

```
# ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨ ì„¤ì •
spring.h2.console.enabled=true
spring.jpa.defer-datasource-initialization=true
logging.level.org.hibernate.SQL=DEBUG
spring.jpa.properties.hibernate.format_sql=true
spring.datasource.url=jdbc:h2:mem:testdb
```

- spring.h2.console.enabled=true
    - ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ H2 ë°ì´í„°ë² ì´ìŠ¤ ì½˜ì†”ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ì •
- spring.jpa.defer-datasource-initialization=true
    - ë°ì´í„° ì†ŒìŠ¤ê°€ ì™„ì „íˆ ì´ˆê¸°í™”ëœ í›„ì— ë”ë¯¸ ë°ì´í„°(data.sql)ê°€ ìƒì„±ë˜ë„ë¡ ì„¤ì •
- logging.level.org.hibernate.SQL=DEBUG
    - Hibernateì˜ SQL ì¿¼ë¦¬ ë¡œê¹… ìˆ˜ì¤€ì„ DEBUGë¡œ ì„¤ì •í•˜ì—¬ SQL ì¿¼ë¦¬ë¥¼ ë¡œê·¸ì— ìƒì„¸íˆ ê¸°ë¡
- spring.jpa.properties.hibernate.format_sql=true
    - ê°€ë…ì„±ì„ ìœ„í•´ ì¿¼ë¦¬ ì¤„ë°”ê¿ˆ
- spring.datasource.url=jdbc:h2:mem:testdb
    - ë°ì´í„°ë² ì´ìŠ¤ URL ì§€ì •. ì§€ì •í•˜ì§€ ì•Šì„ ì‹œ ë§¤ë²ˆ ë°”ë€Œì–´ì„œ ì›¹ ì½˜ì†”ë¡œ ì ‘ê·¼ ì‹œ ë²ˆê±°ë¡œì›€.

2.  ì„œë²„ ì‹¤í–‰í•˜ê¸°
3.  [localhost:8080/h2-console](http://localhost:8080/h2-console) ì— ì ‘ì†
4. JDBC URLì„ `jdbc:h2:mem:testdb`ë¡œ ì…ë ¥ í›„ Connectë¥¼ í´ë¦­í•˜ì—¬ DBì— ì ‘ì†ë˜ëŠ”ì§€ í™•ì¸
    
    *í•œë²ˆë§Œ í•´ì£¼ë©´ ë¨*
    ![Untitled](/assets/img/TIL/2024-08-27/Untitled.png)
    ![Untitled](/assets/img/TIL/2024-08-27/Untitled%20(1).png)
    

### â• ë”ë¯¸ ë°ì´í„° ì¶”ê°€í•˜ê¸°

---

ğŸ“Â íŒŒì¼ ìœ„ì¹˜: src/main/resources/data.sql

```sql
INSERT INTO tag (name) VALUES
('Classic'),
('Dystopian'),
('Romance'),
('Historical'),
('Fantasy'),
('Literary Fiction'),
('American'),
('British'),
('Young Adult'),
('Drama');
```

### ì¶œì²˜

---

https://yjkim-dev.tistory.com/3#google_vignette