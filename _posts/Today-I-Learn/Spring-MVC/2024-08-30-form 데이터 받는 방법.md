---
categories:
- π‘©β€π’» Today I learn
- π Spring MVC
  
tags:

---

**Spring MVCμ—μ„λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ μ¶ν• νΌ λ°μ΄ν„°λ¥Ό μ„λ²„ μΈ΅μ—μ„ λ‹¤μ–‘ν• λ°©λ²•μΌλ΅ λ°›μ„ μ μλ‹¤.**

## π“ HttpServletRequest
    
### HttpServletRequestλ¥Ό μ‚¬μ©ν•μ—¬ νΌ λ°μ΄ν„° κ°λ³„μ μΌλ΅ λ°›κΈ°
    
  - `HttpServletRequest` κ°μ²΄λ” μ„λΈ”λ¦Ώ APIμ μΌλ¶€λ΅, ν΄λΌμ΄μ–ΈνΈκ°€ μ „μ†΅ν• HTTP μ”μ²­μ— λ€ν• μ •λ³΄λ¥Ό μ κ³µν•¨
  - νΌ λ°μ΄ν„°λ¥Ό κ°λ³„μ μΌλ΅ μμ‹ ν•  λ•λ” `request.getParameter("parameterName")` λ©”μ„λ“λ¥Ό μ‚¬μ©
  
  **μμ‹**:
  
  ```java
  javaμ½”λ“ λ³µμ‚¬
  @PostMapping("/submitForm")
  public String handleFormSubmission(HttpServletRequest request) {
      String username = request.getParameter("username");
      String password = request.getParameter("password");
  
      // νΌ λ°μ΄ν„° μ²λ¦¬ λ΅μ§
  
      return "resultPage";
  }
  ```
    
- μ„ μμ‹μ—μ„, `username`κ³Ό `password`λ” νΌμ—μ„ μ „μ†΅λ λ°μ΄ν„°λ¥Ό κ°κ° λ°›μ•„μ¤λ” λ°©μ‹
     π€`request.getParameterNames()`
    
  - HTTP μ”μ²­μ—μ„ λ¨λ“  νλΌλ―Έν„° μ΄λ¦„λ“¤μ„ `**Enumeration<String>` ν•νƒ**λ΅ λ°ν™
  - **λ¬Έμμ—΄μ„ μ·¨κΈ‰**ν•κ³  νλΌλ―Έν„°λ” λ¬Έμμ—΄λ΅ λ„μ–΄μ¤κΈ°λ•λ¬Έμ— μνκ°€ κ°€λ¥ν•λ‹¤.
  
  
**π Controller**
  
  ```java
  @PostMapping("/questions/next")
  public String next(HttpServletRequest request) {
     
      Enumeration<String> parameterNames = request.getParameterNames();
      
  		while (parameterNames.hasMoreElements()) {
          String paramName = parameterNames.nextElement();
          parameters.put(paramName, request.getParameter(paramName));
      }
  }
```

**πƒ Thymeleaf**

```html
<label class="pe-4">
    <input type="radio" th:attr="name=${number+'_answer'}" required value="1">
    1
</label>

<input type="hidden" name="page" th:attr="value=${page}">
```

ex) name = 1_answer μΌλ• `getParameterNames()` μ‚¬μ©ν•λ©΄ β‡’ **νλΌλ―Έν„° μ΄λ¦„μ€ : 1_answer** 

ex) name = page  μΌ λ• β‡’ **νλΌλ―Έν„° μ΄λ¦„μ€ :  page** 

**π¤“ μ΄λ΄ λ• μ“°λ©΄ μΆ‹μ•„μ”!**

---

`getParameterNames()` λ©”μ„λ“λ” νΌ λ°μ΄ν„°λ¥Ό λ™μ μΌλ΅ μ²λ¦¬ν•΄μ•Ό ν•  λ• μ μ©ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, νΌμ— μ–΄λ–¤ νλΌλ―Έν„°κ°€ ν¬ν•¨λ μ§€ λ―Έλ¦¬ μ• μ μ—†λ” κ²½μ°λ‚, λ¨λ“  νλΌλ―Έν„°λ¥Ό ν•λ‚μ”© μνν•λ©΄μ„ μ²λ¦¬ν•΄μ•Ό ν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

## π“ **@RequestParam**
    
### @RequestParamμ„ μ‚¬μ©ν•μ—¬ νΌ λ°μ΄ν„° λ°›κΈ°
    
  - `@RequestParam` μ–΄λ…Έν…μ΄μ…μ€ HTTP μ”μ²­ νλΌλ―Έν„°λ¥Ό **λ©”μ„λ“μ νλΌλ―Έν„°λ΅ μ§μ ‘ λ§¤ν•‘**ν•΄ μ¤
  - λ©”μ„λ“ νλΌλ―Έν„°μ— μ§μ ‘ μ£Όμ…λλ―€λ΅, `HttpServletRequest` κ°μ²΄λ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„λ„ λ¨
  - `@RequestParam`μ€ κΈ°λ³Έμ μΌλ΅ ν•„μ νλΌλ―Έν„°μ΄μ§€λ§, `required` μ†μ„±μ„ `false`λ΅ μ„¤μ •ν•λ©΄ μ„ νƒμ μΌλ΅ λ°›μ„ μλ„ μμ
  
  **μμ‹:**
  
**ν”„λ΅ νΈμ—”λ“ HTML νΌ**

  ```html
  htmlμ½”λ“ λ³µμ‚¬
  <form action="/book" method="get">
      <label for="isbn">ISBN:</label>
      <input type="text" id="isbn" name="isbn" value="9781617294945">
  
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" value="Spring in Action">
  
      <button type="submit">Search</button>
  </form>
  
  ```
  
  **μ„λ²„ μΈ΅ (Spring MVC μ»¨νΈλ΅¤λ¬)**
  
  ```java
  @GetMapping("/book")
  public void getBook(@RequestParam String isbn, @RequestParam String title) {
      // 'isbn'κ³Ό 'title' νλΌλ―Έν„°κ°€ μλ™μΌλ΅ λ§¤ν•‘λμ–΄ λ©”μ„λ“μ λ§¤κ°λ³€μλ΅ μ „λ‹¬λ¨
      // μ¶”κ°€μ μΈ μ²λ¦¬ λ΅μ§
  }
  
  ```
  
## π“ @ModelAttribute
  
### @ModelAttributeλ¥Ό μ‚¬μ©ν•μ—¬ νΌ λ°μ΄ν„° λ°›κΈ°
  
  - `@ModelAttribute`λ” νΌ λ°μ΄ν„°λ¥Ό κ°μ²΄μ— λ°”μΈλ”©ν•  λ• μ‚¬μ©λ¨
  - νΌμ κ° ν•„λ“ κ°’μ„ **μλ™μΌλ΅ κ°μ²΄μ ν•„λ“μ— λ§¤ν•‘**ν•΄ μ£Όλ―€λ΅, **λ§μ€ μ–‘μ νΌ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ• μ μ©ν•¨**
  - νΉν, νΌ λ°μ΄ν„°λ¥Ό **μΊ΅μν™”ν• κ°μ²΄(μ: DTO λλ” μ—”ν‹°ν‹° κ°μ²΄)**λ¥Ό μƒμ„±ν•μ—¬ λ°μ΄ν„°λ¥Ό μ²λ¦¬ν•  λ• μμ£Ό μ‚¬μ©λ¨
  - **νΌμ ν•„λ“ μ΄λ¦„κ³Ό κ°μ²΄μ ν•„λ“ μ΄λ¦„μ„ μλ™μΌλ΅ λ§¤ν•‘ν•μ—¬ λ°μ΄ν„°λ¥Ό λ°”μΈλ”©ν•¨**
  
  **μμ‹**
  
  ```java
  @PostMapping("/submitForm")
  public String handleFormSubmission(@ModelAttribute UserForm userForm) {
      // userForm κ°μ²΄μ— νΌ λ°μ΄ν„°κ°€ μλ™μΌλ΅ λ°”μΈλ”©λ¨
      String username = userForm.getUsername();
      String password = userForm.getPassword();
  
      // νΌ λ°μ΄ν„° μ²λ¦¬ λ΅μ§
  
      return "resultPage";
  }
  
  ```